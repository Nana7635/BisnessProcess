# SendForApproval

```
&НаСервере
Процедура ОтправитьНаСогласованиеНаСервере(ВыбранноеЗначение)
	Если ОбщийМодуль.НайтиПохожийСтатусВыбранногоДокументаВРегистреСведений(ВыбранноеЗначение.Ссылка,
		Перечисления.СтатусыДокументов.ОтправленНаСогласование)=Ложь Тогда
		НовыйБП=БизнесПроцессы.СогласованиеДокумента.СоздатьБизнесПроцесс();
		НовыйБП.Дата=ТекущаяДата();
		НовыйБП.СсылкаНаДокумент=ВыбранноеЗначение.Ссылка;  
		НовыйБП.Записать();
		НовыйБП.Старт();
		Документ=Документы.ЗаявкаНаРасход.НайтиПоНомеру(ВыбранноеЗначение.Номер).ПолучитьОбъект();
		Документ.СтатусДокумента=Перечисления.СтатусыДокументов.ОтправленНаСогласование;
		Документ.Записать(РежимЗаписиДокумента.Проведение);       
		Сообщение = Новый СообщениеПользователю;
		Сообщение.Текст = "Документ оправлен на согласование"; 
		Сообщение.Сообщить(); 
	Иначе
		Сообщение = Новый СообщениеПользователю;
		Сообщение.Текст = "Документ уже ранее был оправлен на согласование"; 
		Сообщение.Сообщить();
	КонецЕсли;
КонецПроцедуры


&НаКлиенте
Процедура ОтправитьНаСогласование(Команда)
	ВыбранноеЗначение=Элементы.Список.ТекущаяСтрока;
	ОтправитьНаСогласованиеНаСервере(ВыбранноеЗначение);  
	Элементы.Список.Обновить();
КонецПроцедуры
```
